{"ast":null,"code":"//定义烈度配色\n//const intColor = {\"1\":{\"bkcolor\":\"#9bc4e4\"},\"2\":{\"bkcolor\":\"#00a0f1\"},\"3\":{\"bkcolor\":\"#0062f5\"},\"4\":{\"bkcolor\":\"#2de161\"},\"5\":{\"bkcolor\":\"#1cac5d\"},\"6\":{\"bkcolor\":\"#bdb93b\"},\"7\":{\"bkcolor\":\"#ffba3d\"},\"8\":{\"bkcolor\":\"#c38b2c\"},\"9\":{\"bkcolor\":\"#c75622\"},\"10\":{\"bkcolor\":\"#ff000d\"},\"11\":{\"bkcolor\":\"#c20007\"},\"12\":{\"bkcolor\":\"#fd2fc2\"}};\nimport axios from 'axios';\nexport default {\n  name: 'ChineseEarthquakeList',\n  data() {\n    return {\n      mainType: null,\n      mainDepth: null,\n      mainEpicenter: null,\n      mainMagnitude: null,\n      mainTime: null,\n      mainMaxInt: null,\n      subTime: null,\n      subEpicenter: null,\n      subMagnitude: null,\n      subDepth: null,\n      subMaxInt: null\n    };\n  },\n  methods: {\n    getMainData() {\n      axios.get('https://api.projectbs.cn/v2/ceic/get_data.json?' + new Date().getTime()).then(data => {\n        let json = data.data;\n        this.mainType = json.data.type;\n        this.mainDepth = json.data.depth;\n        this.mainEpicenter = json.data.epicenter;\n        let mainStartAt = json.data.occurTime;\n        this.mainMagnitude = json.data.magnitude;\n        //startAt 转换\n        mainStartAt = mainStartAt.replace(\"月\", \"/\");\n        mainStartAt = mainStartAt.replace(\"日\", \" \");\n        mainStartAt = mainStartAt.replace(\"时\", \":\");\n        this.mainTime = mainStartAt.replace(\"分\", \"\");\n      });\n    },\n    calcMaxInt(calcMagnitude, calcDepth) {\n      let numa = calcMagnitude / 2.08 * 2.82;\n      let numb = calcDepth * -0.013;\n      let maxInt = Math.round(numa + numb);\n      if (maxInt > 12) maxInt = 12;\n      if (maxInt < 1) maxInt = 1;\n      return maxInt;\n    }\n  }\n};","map":{"version":3,"mappings":"AAOA;AACA;AACA;AACA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAEAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACAC;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACAC;QACAA;QACAA;QACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;IACA;EACA;AACA","names":["name","data","mainType","mainDepth","mainEpicenter","mainMagnitude","mainTime","mainMaxInt","subTime","subEpicenter","subMagnitude","subDepth","subMaxInt","methods","getMainData","axios","mainStartAt","calcMaxInt"],"sourceRoot":"src/components","sources":["ChineseEarthquakeList.vue"],"sourcesContent":["<template>\n    <div>\n        {{getMainData()}}\n    </div>\n</template>\n\n<script>\n    //定义烈度配色\n    //const intColor = {\"1\":{\"bkcolor\":\"#9bc4e4\"},\"2\":{\"bkcolor\":\"#00a0f1\"},\"3\":{\"bkcolor\":\"#0062f5\"},\"4\":{\"bkcolor\":\"#2de161\"},\"5\":{\"bkcolor\":\"#1cac5d\"},\"6\":{\"bkcolor\":\"#bdb93b\"},\"7\":{\"bkcolor\":\"#ffba3d\"},\"8\":{\"bkcolor\":\"#c38b2c\"},\"9\":{\"bkcolor\":\"#c75622\"},\"10\":{\"bkcolor\":\"#ff000d\"},\"11\":{\"bkcolor\":\"#c20007\"},\"12\":{\"bkcolor\":\"#fd2fc2\"}};\n    import axios from 'axios';\n    export default {\n        name: 'ChineseEarthquakeList',\n        data(){\n            return{\n                mainType: null,\n                mainDepth: null,\n                mainEpicenter: null,\n                mainMagnitude: null,\n                mainTime: null,\n                mainMaxInt: null,\n\n                subTime: null,\n                subEpicenter: null,\n                subMagnitude: null,\n                subDepth: null,\n                subMaxInt: null,\n            }\n        },\n        methods:{\n            getMainData(){\n                axios.get('https://api.projectbs.cn/v2/ceic/get_data.json?' + new Date().getTime()).then(data => {\n                    let json = data.data;\n                    this.mainType = json.data.type;\n                    this.mainDepth = json.data.depth;\n                    this.mainEpicenter = json.data.epicenter;\n                    let mainStartAt = json.data.occurTime;\n                    this.mainMagnitude = json.data.magnitude;\n                     //startAt 转换\n                    mainStartAt = mainStartAt.replace(\"月\", \"/\");\n                    mainStartAt = mainStartAt.replace(\"日\", \" \")\n                    mainStartAt = mainStartAt.replace(\"时\", \":\")\n                    this.mainTime = mainStartAt.replace(\"分\", \"\")\n                })\n            },\n            calcMaxInt(calcMagnitude, calcDepth) {\n                let numa = (calcMagnitude) / 2.08 * 2.82;\n                let numb = (calcDepth) * -0.013;\n                let maxInt = Math.round(numa + numb);\n                if (maxInt > 12) maxInt = 12;\n                if (maxInt < 1) maxInt = 1;\n                return (maxInt);\n            }\n        }\n    }\n</script>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}