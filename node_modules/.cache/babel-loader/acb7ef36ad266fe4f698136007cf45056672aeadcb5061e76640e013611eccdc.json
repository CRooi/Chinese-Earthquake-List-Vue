{"ast":null,"code":"//定义烈度配色\n//const intColor = {\"1\":{\"bkcolor\":\"#9bc4e4\"},\"2\":{\"bkcolor\":\"#00a0f1\"},\"3\":{\"bkcolor\":\"#0062f5\"},\"4\":{\"bkcolor\":\"#2de161\"},\"5\":{\"bkcolor\":\"#1cac5d\"},\"6\":{\"bkcolor\":\"#bdb93b\"},\"7\":{\"bkcolor\":\"#ffba3d\"},\"8\":{\"bkcolor\":\"#c38b2c\"},\"9\":{\"bkcolor\":\"#c75622\"},\"10\":{\"bkcolor\":\"#ff000d\"},\"11\":{\"bkcolor\":\"#c20007\"},\"12\":{\"bkcolor\":\"#fd2fc2\"}};\nimport axios from 'axios';\nexport default {\n  name: 'ChineseEarthquakeList',\n  data() {\n    return {\n      mainType: null,\n      mainDepth: null,\n      mainEpicenter: null,\n      mainMagnitude: null,\n      mainTime: null,\n      mainMaxInt: null,\n      subTime: null,\n      subEpicenter: null,\n      subMagnitude: null,\n      subDepth: null,\n      subMaxInt: null\n    };\n  },\n  methods: {\n    getMainData() {\n      axios.get('https://api.projectbs.cn/v2/ceic/get_data.json?' + new Date().getTime()).then(data => {\n        let json = data.data;\n        this.mainType = json.data.type;\n        this.mainDepth = json.data.depth;\n        this.mainEpicenter = json.data.epicenter;\n        let mainStartAt = json.data.occurTime;\n        this.mainMagnitude = json.data.magnitude;\n        //startAt 转换\n        mainStartAt = mainStartAt.replace(\"月\", \"/\");\n        mainStartAt = mainStartAt.replace(\"日\", \" \");\n        mainStartAt = mainStartAt.replace(\"时\", \":\");\n        this.mainTime = mainStartAt.replace(\"分\", \"\");\n      });\n    },\n    genDOM() {\n      for (let i = 4; i <= 50; i++) {\n        console.log(i);\n        return '<div id=\"subBar' + i + '\"><div id=\"subLeft' + i + '\"><div id=\"subTime' + i + '\">01/01 00:00</div><div id=\"subEpicenter' + i + '\">载入中</div><div id=\"subMagnitude' + i + '\">M0.0</div></div><div id=\"subMaxInt' + i + '\">-</div></div>';\n      }\n    },\n    calcMaxInt(calcMagnitude, calcDepth) {\n      let numa = calcMagnitude / 2.08 * 2.82;\n      let numb = calcDepth * -0.013;\n      let maxInt = Math.round(numa + numb);\n      if (maxInt > 12) maxInt = 12;\n      if (maxInt < 1) maxInt = 1;\n      return maxInt;\n    }\n  }\n};","map":{"version":3,"mappings":"AAkCA;AACA;AACA;AACA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAEAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACAC;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACAC;QACAA;QACAA;QACA;MACA;IACA;IACAC;MACA;QACAC;QACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;IACA;EACA;AACA","names":["name","data","mainType","mainDepth","mainEpicenter","mainMagnitude","mainTime","mainMaxInt","subTime","subEpicenter","subMagnitude","subDepth","subMaxInt","methods","getMainData","axios","mainStartAt","genDOM","console","calcMaxInt"],"sourceRoot":"src/components","sources":["ChineseEarthquakeList.vue"],"sourcesContent":["<template>\n    <div>\n        {{getMainData()}}\n        {{genDOM()}}\n        <div id=\"mainBar\">\n\t\t\t<div id=\"mainLeft\">\n\t\t\t\t<div id=\"mainTime\">{{mainTime}}</div>\n\t\t\t\t<div id=\"mainEpicenter\">{{mainEpicenter}}</div>\n\t\t\t\t<div id=\"mainDepth\">{{mainDepth}}<font size=\"3\">&nbsp;km</font></div>\n\t\t\t\t<div id=\"mainMagnitude\"><font size=\"4\">M</font>{{mainMagnitude}}</div>\n\t\t\t</div>\n\t\t\t<div id=\"mainMaxInt\">-</div>\n\t\t</div>\n\t\t<!-- 为方便debug，sub直接从2开始 -->\n\t\t<div id=\"subBar2\">\n\t\t\t<div id=\"subLeft2\">\n\t\t\t\t<div id=\"subTime2\">01/01 00:00</div>\n\t\t\t\t<div id=\"subEpicenter2\">载入中</div>\n\t\t\t\t<div id=\"subMagnitude2\">M0.0</div>\n\t\t\t</div>\n\t\t\t<div id=\"subMaxInt2\">-</div>\n\t\t</div>\n\t\t<div id=\"subBar3\">\n\t\t\t<div id=\"subLeft3\">\n\t\t\t\t<div id=\"subTime3\">01/01 00:00</div>\n\t\t\t\t<div id=\"subEpicenter3\">载入中</div>\n\t\t\t\t<div id=\"subMagnitude3\">M0.0</div>\n\t\t\t</div>\n\t\t\t<div id=\"subMaxInt3\">-</div>\n\t\t</div>\n    </div>\n</template>\n\n<script>\n    //定义烈度配色\n    //const intColor = {\"1\":{\"bkcolor\":\"#9bc4e4\"},\"2\":{\"bkcolor\":\"#00a0f1\"},\"3\":{\"bkcolor\":\"#0062f5\"},\"4\":{\"bkcolor\":\"#2de161\"},\"5\":{\"bkcolor\":\"#1cac5d\"},\"6\":{\"bkcolor\":\"#bdb93b\"},\"7\":{\"bkcolor\":\"#ffba3d\"},\"8\":{\"bkcolor\":\"#c38b2c\"},\"9\":{\"bkcolor\":\"#c75622\"},\"10\":{\"bkcolor\":\"#ff000d\"},\"11\":{\"bkcolor\":\"#c20007\"},\"12\":{\"bkcolor\":\"#fd2fc2\"}};\n    import axios from 'axios';\n    export default {\n        name: 'ChineseEarthquakeList',\n        data(){\n            return{\n                mainType: null,\n                mainDepth: null,\n                mainEpicenter: null,\n                mainMagnitude: null,\n                mainTime: null,\n                mainMaxInt: null,\n\n                subTime: null,\n                subEpicenter: null,\n                subMagnitude: null,\n                subDepth: null,\n                subMaxInt: null,\n            }\n        },\n        methods:{\n            getMainData(){\n                axios.get('https://api.projectbs.cn/v2/ceic/get_data.json?' + new Date().getTime()).then(data => {\n                    let json = data.data;\n                    this.mainType = json.data.type;\n                    this.mainDepth = json.data.depth;\n                    this.mainEpicenter = json.data.epicenter;\n                    let mainStartAt = json.data.occurTime;\n                    this.mainMagnitude = json.data.magnitude;\n                    //startAt 转换\n                    mainStartAt = mainStartAt.replace(\"月\", \"/\");\n                    mainStartAt = mainStartAt.replace(\"日\", \" \")\n                    mainStartAt = mainStartAt.replace(\"时\", \":\")\n                    this.mainTime = mainStartAt.replace(\"分\", \"\")\n                })\n            },\n            genDOM(){\n                for (let i = 4; i <= 50; i++) {\n                    console.log(i);\n                    return('<div id=\"subBar' + i + '\"><div id=\"subLeft' + i + '\"><div id=\"subTime' + i + '\">01/01 00:00</div><div id=\"subEpicenter' + i + '\">载入中</div><div id=\"subMagnitude' + i + '\">M0.0</div></div><div id=\"subMaxInt' + i + '\">-</div></div>')\n                }\n            },\n            calcMaxInt(calcMagnitude, calcDepth) {\n                let numa = (calcMagnitude) / 2.08 * 2.82;\n                let numb = (calcDepth) * -0.013;\n                let maxInt = Math.round(numa + numb);\n                if (maxInt > 12) maxInt = 12;\n                if (maxInt < 1) maxInt = 1;\n                return (maxInt);\n            }\n        }\n    }\n</script>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}