{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n//定义烈度配色\nconst intColor = {\n  \"1\": {\n    \"bkcolor\": \"#9bc4e4\"\n  },\n  \"2\": {\n    \"bkcolor\": \"#00a0f1\"\n  },\n  \"3\": {\n    \"bkcolor\": \"#0062f5\"\n  },\n  \"4\": {\n    \"bkcolor\": \"#2de161\"\n  },\n  \"5\": {\n    \"bkcolor\": \"#1cac5d\"\n  },\n  \"6\": {\n    \"bkcolor\": \"#bdb93b\"\n  },\n  \"7\": {\n    \"bkcolor\": \"#ffba3d\"\n  },\n  \"8\": {\n    \"bkcolor\": \"#c38b2c\"\n  },\n  \"9\": {\n    \"bkcolor\": \"#c75622\"\n  },\n  \"10\": {\n    \"bkcolor\": \"#ff000d\"\n  },\n  \"11\": {\n    \"bkcolor\": \"#c20007\"\n  },\n  \"12\": {\n    \"bkcolor\": \"#fd2fc2\"\n  }\n};\nimport axios from 'axios';\nexport default {\n  name: 'ChineseEarthquakeList',\n  data() {\n    return {\n      mainType: null,\n      mainEpicenter: '载入中',\n      mainMagnitude: '0.0',\n      mainDepth: null,\n      mainTime: '01/01 00:00',\n      mainMaxInt: '-',\n      mainMaxIntColor: '#444',\n      subTime: ['01/01 00:00', '01/01 00:00', '01/01 00:00'],\n      subEpicenter: ['载入中', '载入中', '载入中'],\n      subMagnitude: ['0.0', '0.0', '0.0'],\n      subMaxInt: ['-', '-', '-'],\n      subMaxIntColor: ['#444', '#444', '#444'],\n      subBarList: []\n    };\n  },\n  methods: {\n    init() {\n      let subTime = [];\n      let subEpicenter = [];\n      let subMagnitude = [];\n      let subMaxInt = [];\n      let subMaxIntColor = [];\n      for (let i = 0; i <= 50; i++) {\n        subTime.push('01/01 00:00');\n        subEpicenter.push('载入中');\n        subMagnitude.push('0.0');\n        subMaxInt.push('-');\n        subMaxIntColor.push('#444');\n      }\n      this.subTime = subTime;\n      this.subEpicenter = subEpicenter;\n      this.subMagnitude = subMagnitude;\n      this.subMaxInt = subMaxInt;\n      this.subMaxIntColor = subMaxIntColor;\n    },\n    async getMainData() {\n      axios.get('https://api.projectbs.cn/v2/ceic/get_data.json?' + new Date().getTime()).then(data => {\n        let json = data.data;\n        this.mainType = json.data.type;\n        this.mainDepth = json.data.depth;\n        this.mainEpicenter = json.data.epicenter;\n        let mainStartAt = json.data.occurTime;\n        this.mainMagnitude = json.data.magnitude;\n        //startAt 转换\n        mainStartAt = mainStartAt.replace(\"月\", \"/\");\n        mainStartAt = mainStartAt.replace(\"日\", \" \");\n        mainStartAt = mainStartAt.replace(\"时\", \":\");\n        this.mainTime = mainStartAt.replace(\"分\", \"\");\n        if (this.mainType == '正式') {\n          this.mainTime += ' 正式报';\n          this.mainMaxInt = this.calcMaxInt(this.mainMagnitude, this.mainDepth);\n          this.mainMaxIntColor = intColor[this.mainMaxInt].bkcolor;\n        }\n      });\n    },\n    async getSubData() {\n      axios.get('https://api.wolfx.jp/cenc_eqlist.json?' + new Date().getTime()).then(data => {\n        let json = data.data;\n        for (let i = 2; i <= 50; i++) {\n          this.subTime[i] = eval(\"json.No\" + i + \".time\");\n          this.subTime[i] = this.subTime.substring(5, 16);\n          this.subTime[i] = this.subTime.replace(/-/g, '/');\n          this.subEpicenter[i] = eval(\"json.No\" + i + \".location\");\n          this.subMagnitude[i] = eval(\"json.No\" + i + \".magnitude\");\n          this.subDepth[i] = eval(\"json.No\" + i + \".depth\");\n          this.subMaxInt[i] = this.calcMaxInt(this.subMagnitude[i], this.subDepth[i]);\n          // calcSubEpicenterFontSize(subEpicenter, i);\n          // $(\"#subTime\" + i).text(subTime);\n          // $(\"#subEpicenter\" + i).text(subEpicenter);\n          // $(\"#subMagnitude\" + i).text(\"M\" + subMagnitude);\n          // $(\"#subMaxInt\" + i).text(subMaxInt);\n          // $(\"#subMaxInt\" + i).css(\"background-color\", intColor[subMaxInt].bkcolor);\n        }\n      });\n    },\n\n    calcMaxInt(calcMagnitude, calcDepth) {\n      let numa = calcMagnitude / 2.08 * 2.82;\n      let numb = calcDepth * -0.013;\n      let maxInt = Math.round(numa + numb);\n      if (maxInt > 12) maxInt = 12;\n      if (maxInt < 1) maxInt = 1;\n      return maxInt;\n    }\n  },\n  created: function () {\n    this.init();\n    this.getMainData();\n    this.getSubData();\n  }\n};","map":{"version":3,"mappings":";AAuEA;AACA;EAAA;IAAA;EAAA;EAAA;IAAA;EAAA;EAAA;IAAA;EAAA;EAAA;IAAA;EAAA;EAAA;IAAA;EAAA;EAAA;IAAA;EAAA;EAAA;IAAA;EAAA;EAAA;IAAA;EAAA;EAAA;IAAA;EAAA;EAAA;IAAA;EAAA;EAAA;IAAA;EAAA;EAAA;IAAA;EAAA;AAAA;AACA;AACA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAEAC;MACAC;MACAC;MACAC;MACAC;MAEAC;IACA;EACA;EACAC;IACAC;MACA;MACA;MACA;MACA;MACA;MAEA;QACAP;QACAC;QACAC;QACAC;QACAC;MACA;MACA;MACA;MACA;MACA;MACA;IAEA;IACA;MACAI;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACAC;QACAA;QACAA;QACA;QAEA;UACA;UACA;UACA;QACA;MACA;IACA;IACA;MACAD;QACA;QACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;QACA;MACA;IACA;;IACAE;MACA;MACA;MACA;MACA;MACA;MACA;IACA;EACA;EACAC;IACA;IACA;IACA;EACA;AACA","names":["name","data","mainType","mainEpicenter","mainMagnitude","mainDepth","mainTime","mainMaxInt","mainMaxIntColor","subTime","subEpicenter","subMagnitude","subMaxInt","subMaxIntColor","subBarList","methods","init","axios","mainStartAt","calcMaxInt","created"],"sourceRoot":"src/components","sources":["ChineseEarthquakeList.vue"],"sourcesContent":["<template>\n    <div>\n        <div id=\"mainBar\">\n\t\t\t<div id=\"mainLeft\">\n\t\t\t\t<div id=\"mainTime\">{{mainTime}}</div>\n\t\t\t\t<div id=\"mainEpicenter\">{{mainEpicenter}}</div>\n\t\t\t\t<div id=\"mainDepth\">{{mainDepth}}<font size=\"3\">&nbsp;km</font></div>\n\t\t\t\t<div id=\"mainMagnitude\"><font size=\"4\">M</font>{{mainMagnitude}}</div>\n\t\t\t</div>\n\t\t\t<div id=\"mainMaxInt\" :style=\"{'background-color':mainMaxIntColor}\">{{mainMaxInt}}</div>\n\t\t</div>\n\t\t<div id=\"subBar2\">\n\t\t\t<div id=\"subLeft2\">\n\t\t\t\t<div id=\"subTime2\">{{subTime[2]}}</div>\n\t\t\t\t<div id=\"subEpicenter2\">{{subEpicenter[2]}}</div>\n\t\t\t\t<div id=\"subMagnitude2\">M{{subMagnitude[2]}}</div>\n\t\t\t</div>\n\t\t\t<div id=\"subMaxInt2\" :style=\"{'background-color':subMaxInt[2]}\">{{subMaxInt[2]}}</div>\n\t\t</div>\n        <div id=subBar3><div id=subLeft3><div id=subTime3>{{subTime[3]}}</div><div id=subEpicenter3>{{subEpicenter[3]}}</div><div id=subMagnitude3>M{{subMagnitude[3]}}</div></div><div id=subMaxInt3 :style=\"{'background-color':subMaxInt[3]}\">{{subMaxInt[3]}}</div></div>\n        <div id=subBar3><div id=subLeft4><div id=subTime4>{{subTime[4]}}</div><div id=subEpicenter4>{{subEpicenter[4]}}</div><div id=subMagnitude4>M{{subMagnitude[4]}}</div></div><div id=subMaxInt4 :style=\"{'background-color':subMaxInt[4]}\">{{subMaxInt[4]}}</div></div>\n        <div id=subBar5><div id=subLeft5><div id=subTime5>{{subTime[5]}}</div><div id=subEpicenter5>{{subEpicenter[5]}}</div><div id=subMagnitude5>M{{subMagnitude[5]}}</div></div><div id=subMaxInt5 :style=\"{'background-color':subMaxInt[5]}\">{{subMaxInt[5]}}</div></div>\n        <div id=subBar6><div id=subLeft6><div id=subTime6>{{subTime[6]}}</div><div id=subEpicenter6>{{subEpicenter[6]}}</div><div id=subMagnitude6>M{{subMagnitude[6]}}</div></div><div id=subMaxInt6 :style=\"{'background-color':subMaxInt[6]}\">{{subMaxInt[6]}}</div></div>\n        <div id=subBar7><div id=subLeft7><div id=subTime7>{{subTime[7]}}</div><div id=subEpicenter7>{{subEpicenter[7]}}</div><div id=subMagnitude7>M{{subMagnitude[7]}}</div></div><div id=subMaxInt7 :style=\"{'background-color':subMaxInt[7]}\">{{subMaxInt[7]}}</div></div>\n        <div id=subBar8><div id=subLeft8><div id=subTime8>{{subTime[8]}}</div><div id=subEpicenter8>{{subEpicenter[8]}}</div><div id=subMagnitude8>M{{subMagnitude[8]}}</div></div><div id=subMaxInt8 :style=\"{'background-color':subMaxInt[8]}\">{{subMaxInt[8]}}</div></div>\n        <div id=subBar9><div id=subLeft9><div id=subTime9>{{subTime[9]}}</div><div id=subEpicenter9>{{subEpicenter[9]}}</div><div id=subMagnitude9>M{{subMagnitude[9]}}</div></div><div id=subMaxInt9 :style=\"{'background-color':subMaxInt[9]}\">{{subMaxInt[9]}}</div></div>\n        <div id=subBar10><div id=subLeft10><div id=subTime10>{{subTime[10]}}</div><div id=subEpicenter10>{{subEpicenter[10]}}</div><div id=subMagnitude10>M{{subMagnitude[10]}}</div></div><div id=subMaxInt10 :style=\"{'background-color':subMaxInt[10]}\">{{subMaxInt[10]}}</div></div>\n        <div id=subBar11><div id=subLeft11><div id=subTime11>{{subTime[11]}}</div><div id=subEpicenter11>{{subEpicenter[11]}}</div><div id=subMagnitude11>M{{subMagnitude[11]}}</div></div><div id=subMaxInt11 :style=\"{'background-color':subMaxInt[11]}\">{{subMaxInt[11]}}</div></div>\n        <div id=subBar12><div id=subLeft12><div id=subTime12>{{subTime[12]}}</div><div id=subEpicenter12>{{subEpicenter[12]}}</div><div id=subMagnitude12>M{{subMagnitude[12]}}</div></div><div id=subMaxInt12 :style=\"{'background-color':subMaxInt[12]}\">{{subMaxInt[12]}}</div></div>\n        <div id=subBar13><div id=subLeft13><div id=subTime13>{{subTime[13]}}</div><div id=subEpicenter13>{{subEpicenter[13]}}</div><div id=subMagnitude13>M{{subMagnitude[13]}}</div></div><div id=subMaxInt13 :style=\"{'background-color':subMaxInt[13]}\">{{subMaxInt[13]}}</div></div>\n        <div id=subBar14><div id=subLeft14><div id=subTime14>{{subTime[14]}}</div><div id=subEpicenter14>{{subEpicenter[14]}}</div><div id=subMagnitude14>M{{subMagnitude[14]}}</div></div><div id=subMaxInt14 :style=\"{'background-color':subMaxInt[14]}\">{{subMaxInt[14]}}</div></div>\n        <div id=subBar15><div id=subLeft15><div id=subTime15>{{subTime[15]}}</div><div id=subEpicenter15>{{subEpicenter[15]}}</div><div id=subMagnitude15>M{{subMagnitude[15]}}</div></div><div id=subMaxInt15 :style=\"{'background-color':subMaxInt[15]}\">{{subMaxInt[15]}}</div></div>\n        <div id=subBar16><div id=subLeft16><div id=subTime16>{{subTime[16]}}</div><div id=subEpicenter16>{{subEpicenter[16]}}</div><div id=subMagnitude16>M{{subMagnitude[16]}}</div></div><div id=subMaxInt16 :style=\"{'background-color':subMaxInt[16]}\">{{subMaxInt[16]}}</div></div>\n        <div id=subBar17><div id=subLeft17><div id=subTime17>{{subTime[17]}}</div><div id=subEpicenter17>{{subEpicenter[17]}}</div><div id=subMagnitude17>M{{subMagnitude[17]}}</div></div><div id=subMaxInt17 :style=\"{'background-color':subMaxInt[17]}\">{{subMaxInt[17]}}</div></div>\n        <div id=subBar18><div id=subLeft18><div id=subTime18>{{subTime[18]}}</div><div id=subEpicenter18>{{subEpicenter[18]}}</div><div id=subMagnitude18>M{{subMagnitude[18]}}</div></div><div id=subMaxInt18 :style=\"{'background-color':subMaxInt[18]}\">{{subMaxInt[18]}}</div></div>\n        <div id=subBar19><div id=subLeft19><div id=subTime19>{{subTime[19]}}</div><div id=subEpicenter19>{{subEpicenter[19]}}</div><div id=subMagnitude19>M{{subMagnitude[19]}}</div></div><div id=subMaxInt19 :style=\"{'background-color':subMaxInt[19]}\">{{subMaxInt[19]}}</div></div>\n        <div id=subBar20><div id=subLeft20><div id=subTime20>{{subTime[20]}}</div><div id=subEpicenter20>{{subEpicenter[20]}}</div><div id=subMagnitude20>M{{subMagnitude[20]}}</div></div><div id=subMaxInt20 :style=\"{'background-color':subMaxInt[20]}\">{{subMaxInt[20]}}</div></div>\n        <div id=subBar21><div id=subLeft21><div id=subTime21>{{subTime[21]}}</div><div id=subEpicenter21>{{subEpicenter[21]}}</div><div id=subMagnitude21>M{{subMagnitude[21]}}</div></div><div id=subMaxInt21 :style=\"{'background-color':subMaxInt[21]}\">{{subMaxInt[21]}}</div></div>\n        <div id=subBar22><div id=subLeft22><div id=subTime22>{{subTime[22]}}</div><div id=subEpicenter22>{{subEpicenter[22]}}</div><div id=subMagnitude22>M{{subMagnitude[22]}}</div></div><div id=subMaxInt22 :style=\"{'background-color':subMaxInt[22]}\">{{subMaxInt[22]}}</div></div>\n        <div id=subBar23><div id=subLeft23><div id=subTime23>{{subTime[23]}}</div><div id=subEpicenter23>{{subEpicenter[23]}}</div><div id=subMagnitude23>M{{subMagnitude[23]}}</div></div><div id=subMaxInt23 :style=\"{'background-color':subMaxInt[23]}\">{{subMaxInt[23]}}</div></div>\n        <div id=subBar24><div id=subLeft24><div id=subTime24>{{subTime[24]}}</div><div id=subEpicenter24>{{subEpicenter[24]}}</div><div id=subMagnitude24>M{{subMagnitude[24]}}</div></div><div id=subMaxInt24 :style=\"{'background-color':subMaxInt[24]}\">{{subMaxInt[24]}}</div></div>\n        <div id=subBar25><div id=subLeft25><div id=subTime25>{{subTime[25]}}</div><div id=subEpicenter25>{{subEpicenter[25]}}</div><div id=subMagnitude25>M{{subMagnitude[25]}}</div></div><div id=subMaxInt25 :style=\"{'background-color':subMaxInt[25]}\">{{subMaxInt[25]}}</div></div>\n        <div id=subBar26><div id=subLeft26><div id=subTime26>{{subTime[26]}}</div><div id=subEpicenter26>{{subEpicenter[26]}}</div><div id=subMagnitude26>M{{subMagnitude[26]}}</div></div><div id=subMaxInt26 :style=\"{'background-color':subMaxInt[26]}\">{{subMaxInt[26]}}</div></div>\n        <div id=subBar27><div id=subLeft27><div id=subTime27>{{subTime[27]}}</div><div id=subEpicenter27>{{subEpicenter[27]}}</div><div id=subMagnitude27>M{{subMagnitude[27]}}</div></div><div id=subMaxInt27 :style=\"{'background-color':subMaxInt[27]}\">{{subMaxInt[27]}}</div></div>\n        <div id=subBar28><div id=subLeft28><div id=subTime28>{{subTime[28]}}</div><div id=subEpicenter28>{{subEpicenter[28]}}</div><div id=subMagnitude28>M{{subMagnitude[28]}}</div></div><div id=subMaxInt28 :style=\"{'background-color':subMaxInt[28]}\">{{subMaxInt[28]}}</div></div>\n        <div id=subBar29><div id=subLeft29><div id=subTime29>{{subTime[29]}}</div><div id=subEpicenter29>{{subEpicenter[29]}}</div><div id=subMagnitude29>M{{subMagnitude[29]}}</div></div><div id=subMaxInt29 :style=\"{'background-color':subMaxInt[29]}\">{{subMaxInt[29]}}</div></div>\n        <div id=subBar30><div id=subLeft30><div id=subTime30>{{subTime[30]}}</div><div id=subEpicenter30>{{subEpicenter[30]}}</div><div id=subMagnitude30>M{{subMagnitude[30]}}</div></div><div id=subMaxInt30 :style=\"{'background-color':subMaxInt[30]}\">{{subMaxInt[30]}}</div></div>\n        <div id=subBar31><div id=subLeft31><div id=subTime31>{{subTime[31]}}</div><div id=subEpicenter31>{{subEpicenter[31]}}</div><div id=subMagnitude31>M{{subMagnitude[31]}}</div></div><div id=subMaxInt31 :style=\"{'background-color':subMaxInt[31]}\">{{subMaxInt[31]}}</div></div>\n        <div id=subBar32><div id=subLeft32><div id=subTime32>{{subTime[32]}}</div><div id=subEpicenter32>{{subEpicenter[32]}}</div><div id=subMagnitude32>M{{subMagnitude[32]}}</div></div><div id=subMaxInt32 :style=\"{'background-color':subMaxInt[32]}\">{{subMaxInt[32]}}</div></div>\n        <div id=subBar33><div id=subLeft33><div id=subTime33>{{subTime[33]}}</div><div id=subEpicenter33>{{subEpicenter[33]}}</div><div id=subMagnitude33>M{{subMagnitude[33]}}</div></div><div id=subMaxInt33 :style=\"{'background-color':subMaxInt[33]}\">{{subMaxInt[33]}}</div></div>\n        <div id=subBar34><div id=subLeft34><div id=subTime34>{{subTime[34]}}</div><div id=subEpicenter34>{{subEpicenter[34]}}</div><div id=subMagnitude34>M{{subMagnitude[34]}}</div></div><div id=subMaxInt34 :style=\"{'background-color':subMaxInt[34]}\">{{subMaxInt[34]}}</div></div>\n        <div id=subBar35><div id=subLeft35><div id=subTime35>{{subTime[35]}}</div><div id=subEpicenter35>{{subEpicenter[35]}}</div><div id=subMagnitude35>M{{subMagnitude[35]}}</div></div><div id=subMaxInt35 :style=\"{'background-color':subMaxInt[35]}\">{{subMaxInt[35]}}</div></div>\n        <div id=subBar36><div id=subLeft36><div id=subTime36>{{subTime[36]}}</div><div id=subEpicenter36>{{subEpicenter[36]}}</div><div id=subMagnitude36>M{{subMagnitude[36]}}</div></div><div id=subMaxInt36 :style=\"{'background-color':subMaxInt[36]}\">{{subMaxInt[36]}}</div></div>\n        <div id=subBar37><div id=subLeft37><div id=subTime37>{{subTime[37]}}</div><div id=subEpicenter37>{{subEpicenter[37]}}</div><div id=subMagnitude37>M{{subMagnitude[37]}}</div></div><div id=subMaxInt37 :style=\"{'background-color':subMaxInt[37]}\">{{subMaxInt[37]}}</div></div>\n        <div id=subBar38><div id=subLeft38><div id=subTime38>{{subTime[38]}}</div><div id=subEpicenter38>{{subEpicenter[38]}}</div><div id=subMagnitude38>M{{subMagnitude[38]}}</div></div><div id=subMaxInt38 :style=\"{'background-color':subMaxInt[38]}\">{{subMaxInt[38]}}</div></div>\n        <div id=subBar39><div id=subLeft39><div id=subTime39>{{subTime[39]}}</div><div id=subEpicenter39>{{subEpicenter[39]}}</div><div id=subMagnitude39>M{{subMagnitude[39]}}</div></div><div id=subMaxInt39 :style=\"{'background-color':subMaxInt[39]}\">{{subMaxInt[39]}}</div></div>\n        <div id=subBar40><div id=subLeft40><div id=subTime40>{{subTime[40]}}</div><div id=subEpicenter40>{{subEpicenter[40]}}</div><div id=subMagnitude40>M{{subMagnitude[40]}}</div></div><div id=subMaxInt40 :style=\"{'background-color':subMaxInt[40]}\">{{subMaxInt[40]}}</div></div>\n        <div id=subBar41><div id=subLeft41><div id=subTime41>{{subTime[41]}}</div><div id=subEpicenter41>{{subEpicenter[41]}}</div><div id=subMagnitude41>M{{subMagnitude[41]}}</div></div><div id=subMaxInt41 :style=\"{'background-color':subMaxInt[41]}\">{{subMaxInt[41]}}</div></div>\n        <div id=subBar42><div id=subLeft42><div id=subTime42>{{subTime[42]}}</div><div id=subEpicenter42>{{subEpicenter[42]}}</div><div id=subMagnitude42>M{{subMagnitude[42]}}</div></div><div id=subMaxInt42 :style=\"{'background-color':subMaxInt[42]}\">{{subMaxInt[42]}}</div></div>\n        <div id=subBar43><div id=subLeft43><div id=subTime43>{{subTime[43]}}</div><div id=subEpicenter43>{{subEpicenter[43]}}</div><div id=subMagnitude43>M{{subMagnitude[43]}}</div></div><div id=subMaxInt43 :style=\"{'background-color':subMaxInt[43]}\">{{subMaxInt[43]}}</div></div>\n        <div id=subBar44><div id=subLeft44><div id=subTime44>{{subTime[44]}}</div><div id=subEpicenter44>{{subEpicenter[44]}}</div><div id=subMagnitude44>M{{subMagnitude[44]}}</div></div><div id=subMaxInt44 :style=\"{'background-color':subMaxInt[44]}\">{{subMaxInt[44]}}</div></div>\n        <div id=subBar45><div id=subLeft45><div id=subTime45>{{subTime[45]}}</div><div id=subEpicenter45>{{subEpicenter[45]}}</div><div id=subMagnitude45>M{{subMagnitude[45]}}</div></div><div id=subMaxInt45 :style=\"{'background-color':subMaxInt[45]}\">{{subMaxInt[45]}}</div></div>\n        <div id=subBar46><div id=subLeft46><div id=subTime46>{{subTime[46]}}</div><div id=subEpicenter46>{{subEpicenter[46]}}</div><div id=subMagnitude46>M{{subMagnitude[46]}}</div></div><div id=subMaxInt46 :style=\"{'background-color':subMaxInt[46]}\">{{subMaxInt[46]}}</div></div>\n        <div id=subBar47><div id=subLeft47><div id=subTime47>{{subTime[47]}}</div><div id=subEpicenter47>{{subEpicenter[47]}}</div><div id=subMagnitude47>M{{subMagnitude[47]}}</div></div><div id=subMaxInt47 :style=\"{'background-color':subMaxInt[47]}\">{{subMaxInt[47]}}</div></div>\n        <div id=subBar48><div id=subLeft48><div id=subTime48>{{subTime[48]}}</div><div id=subEpicenter48>{{subEpicenter[48]}}</div><div id=subMagnitude48>M{{subMagnitude[48]}}</div></div><div id=subMaxInt48 :style=\"{'background-color':subMaxInt[48]}\">{{subMaxInt[48]}}</div></div>\n        <div id=subBar49><div id=subLeft49><div id=subTime49>{{subTime[49]}}</div><div id=subEpicenter49>{{subEpicenter[49]}}</div><div id=subMagnitude49>M{{subMagnitude[49]}}</div></div><div id=subMaxInt49 :style=\"{'background-color':subMaxInt[49]}\">{{subMaxInt[49]}}</div></div>\n        <div id=subBar50><div id=subLeft50><div id=subTime50>{{subTime[50]}}</div><div id=subEpicenter50>{{subEpicenter[50]}}</div><div id=subMagnitude50>M{{subMagnitude[50]}}</div></div><div id=subMaxInt50 :style=\"{'background-color':subMaxInt[50]}\">{{subMaxInt[50]}}</div></div>\n    </div>\n</template>\n\n<script>\n    //定义烈度配色\n    const intColor = {\"1\":{\"bkcolor\":\"#9bc4e4\"},\"2\":{\"bkcolor\":\"#00a0f1\"},\"3\":{\"bkcolor\":\"#0062f5\"},\"4\":{\"bkcolor\":\"#2de161\"},\"5\":{\"bkcolor\":\"#1cac5d\"},\"6\":{\"bkcolor\":\"#bdb93b\"},\"7\":{\"bkcolor\":\"#ffba3d\"},\"8\":{\"bkcolor\":\"#c38b2c\"},\"9\":{\"bkcolor\":\"#c75622\"},\"10\":{\"bkcolor\":\"#ff000d\"},\"11\":{\"bkcolor\":\"#c20007\"},\"12\":{\"bkcolor\":\"#fd2fc2\"}};\n    import axios from 'axios';\n    export default {\n        name: 'ChineseEarthquakeList',\n        data(){\n            return{\n                mainType: null,\n                mainEpicenter: '载入中',\n                mainMagnitude: '0.0',\n                mainDepth: null,\n                mainTime: '01/01 00:00',\n                mainMaxInt: '-',\n                mainMaxIntColor: '#444',\n\n                subTime: ['01/01 00:00','01/01 00:00','01/01 00:00'],\n                subEpicenter: ['载入中','载入中','载入中'],\n                subMagnitude: ['0.0','0.0','0.0'],\n                subMaxInt: ['-','-','-'],\n                subMaxIntColor: ['#444','#444','#444'],\n\n                subBarList: []\n            }\n        },\n        methods:{\n            init(){\n                let subTime = [];\n                let subEpicenter = [];\n                let subMagnitude = [];\n                let subMaxInt = [];\n                let subMaxIntColor = [];\n\n                for (let i=0; i<=50; i++){\n                    subTime.push('01/01 00:00');\n                    subEpicenter.push('载入中');\n                    subMagnitude.push('0.0');\n                    subMaxInt.push('-');\n                    subMaxIntColor.push('#444');\n                }\n                this.subTime = subTime;\n                this.subEpicenter = subEpicenter;\n                this.subMagnitude = subMagnitude;\n                this.subMaxInt = subMaxInt;\n                this.subMaxIntColor = subMaxIntColor;\n\n            },\n            async getMainData(){\n                axios.get('https://api.projectbs.cn/v2/ceic/get_data.json?' + new Date().getTime()).then(data => {\n                    let json = data.data;\n                    this.mainType = json.data.type;\n                    this.mainDepth = json.data.depth;\n                    this.mainEpicenter = json.data.epicenter;\n                    let mainStartAt = json.data.occurTime;\n                    this.mainMagnitude = json.data.magnitude;\n                    //startAt 转换\n                    mainStartAt = mainStartAt.replace(\"月\", \"/\");\n                    mainStartAt = mainStartAt.replace(\"日\", \" \");\n                    mainStartAt = mainStartAt.replace(\"时\", \":\");\n                    this.mainTime = mainStartAt.replace(\"分\", \"\");\n\n                    if (this.mainType == '正式') {\n                        this.mainTime += ' 正式报';\n                        this.mainMaxInt = this.calcMaxInt(this.mainMagnitude, this.mainDepth);\n                        this.mainMaxIntColor = intColor[this.mainMaxInt].bkcolor;\n                    }\n                });\n            },\n            async getSubData(){\n                axios.get('https://api.wolfx.jp/cenc_eqlist.json?' + new Date().getTime()).then(data => {\n                    let json = data.data;\n                    for (let i=2; i<=50; i++){\n                        this.subTime[i] = eval(\"json.No\" + i + \".time\");\n                        this.subTime[i] = this.subTime.substring(5, 16);\n                        this.subTime[i] = this.subTime.replace(/-/g, '/');\n                        this.subEpicenter[i] = eval(\"json.No\" + i + \".location\");\n                        this.subMagnitude[i] = eval(\"json.No\" + i + \".magnitude\");\n                        this.subDepth[i] = eval(\"json.No\" + i + \".depth\");\n                        this.subMaxInt[i] = this.calcMaxInt(this.subMagnitude[i], this.subDepth[i]);\n                        // calcSubEpicenterFontSize(subEpicenter, i);\n                        // $(\"#subTime\" + i).text(subTime);\n                        // $(\"#subEpicenter\" + i).text(subEpicenter);\n                        // $(\"#subMagnitude\" + i).text(\"M\" + subMagnitude);\n                        // $(\"#subMaxInt\" + i).text(subMaxInt);\n                        // $(\"#subMaxInt\" + i).css(\"background-color\", intColor[subMaxInt].bkcolor);\n                    }\n                })\n            },\n            calcMaxInt(calcMagnitude, calcDepth) {\n                let numa = (calcMagnitude) / 2.08 * 2.82;\n                let numb = (calcDepth) * -0.013;\n                let maxInt = Math.round(numa + numb);\n                if (maxInt > 12) maxInt = 12;\n                if (maxInt < 1) maxInt = 1;\n                return (maxInt);\n            }\n        },\n        created:function(){\n            this.init();\n            this.getMainData();\n            this.getSubData();\n        }\n    }\n</script>\n\n<style>\n    @font-face {\n        font-family:'oppoSans-H';\n        src:url('../assets/font/OPPOSans-H.ttf') format('truetype');\n    }\n    @font-face {\n        font-family:'oppoSans-B';\n        src:url('../assets/font/OPPOSans-B.ttf') format('truetype');\n    }\n    * {\n        font-family:oppoSans-B,sans-serif;\n        padding:0;\n        margin:0;\n    }\n    body {\n        font-family:oppoSans-B,sans-serif;\n        margin:0 auto;\n        background-color:#242424;\n    }\n    #mainBar {\n\tposition:relative;\n\ttop:0px;\n\tleft:0px;\n\theight:98px;\n\twidth:350px;\n\tcolor:white;\n    }\n    #mainLeft {\n        position:absolute;\n        top:0px;\n        left:0px;\n        height:98px;\n        width:248px;\n        background-color:#333333;\n        border-radius:10px;\n    }\n    #mainMaxInt {\n        position:absolute;\n        height:98px;\n        width:98px;\n        right:0px;\n        background-color:#444444;\n        border-radius:10px;\n        line-height:98px;\n        font-size:64px;\n        font-family:OPPOSans-H;\n        text-align:center;\n        text-shadow:0px 4px 10px rgba(0,0,0,0.3);\n        border: 3px solid white;\n        box-sizing:border-box;\n    }\n    #mainTime {\n        position:relative;\n        top:2px;\n        left:4px;\n        font-size:16px;\n    }\n    #mainEpicenter {\n        position:relative;\n        top:2px;\n        left:4px;\n        font-size:20px;\n        line-height:22px;\n        width:237px;\n    }\n    #mainDepth {\n        position:absolute;\n        bottom:0px;\n        left:4px;\n        font-size:25px;\n    }\n    #mainMagnitude {\n        position:absolute;\n        bottom:0px;\n        right:4px;\n        font-size:25px;\n    }\n    [id^=\"subBar\"] {\n        position:relative;\n        left:0px;\n        height:48px;\n        width:350px;\n        color:white;\n        margin-top:4px;\n    }\n    [id^=\"subLeft\"] {\n        position:absolute;\n        top:0px;\n        left:0px;\n        height:48px;\n        width:298px;\n        background-color:#333333;\n        border-radius:10px;\n    }\n    [id^=\"subMaxInt\"] {\n        position:absolute;\n        right:0px;\n        top:0px;\n        height:48px;\n        width:48px;\n        background-color:#444444;\n        border-radius:10px;\n        line-height:48px;\n        font-size:30px;\n        font-family:OPPOSans;\n        text-align:center;\n        text-shadow:0px 4px 10px rgba(0,0,0,0.3);\n        border: 2px solid white;\n        box-sizing:border-box;\n    }\n    [id^=\"subTime\"] {\n        position:relative;\n        top:2px;\n        left:4px;\n        font-size:15px;\n    }\n    [id^=\"subEpicenter\"] {\n        position:relative;\n        top:2px;\n        left:4px;\n        font-size:20px;\n    }\n    [id^=\"subMagnitude\"] {\n        position:absolute;\n        right:4px;\n        font-size:21px;\n        line-height:48px;\n        top:0px;\n    }\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}